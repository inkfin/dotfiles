# zshrc MacOS


# Q pre block. Keep at the top of this file.
[[ -f "${HOME}/Library/Application Support/amazon-q/shell/zshrc.pre.zsh" ]] && builtin source "${HOME}/Library/Application Support/amazon-q/shell/zshrc.pre.zsh"


ZSHCONF_HOME="$HOME/.zshrc.d"

# ==== Includes ====

## helper functions
source $ZSHCONF_HOME/helper.zsh

## prelude environment
source $ZSHCONF_HOME/env.zsh

## homebrew initialization
source $ZSHCONF_HOME/homebrew.zsh

## oh-my-zsh configs
source $ZSHCONF_HOME/omz.zsh

## user custom configs
source $ZSHCONF_HOME/custom.zsh

## 3rd party plugins
source $ZSHCONF_HOME/plugins.zsh

## development configs
source $ZSHCONF_HOME/dev.zsh

## local configs
source $ZSHCONF_HOME/local.zsh


# ==== Platform specific configs ====


# ==== Environment variables ====


## ==== MacOS Specific ====

## ---- 1Password ----
# export SSH_AUTH_SOCK=~/Library/Group\ Containers/2BUA8C4S2C.com.1password/t/agent.sock

## translate-shell
export HOME_LANG="zh-CN"
export TARGET_LANG="zh-CN"

## Remove Path that requires Permissions
remove_from_path PATH "/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin"
remove_from_path PATH "/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin"
remove_from_path PATH "/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin"

## iterm2_shell_integration
test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"


## ==== Aliases ====

alias pac="brew"

# Applications
alias typora='open -a Typora.app'
alias sublime='open -a Sublime\ Text.app'
alias browse='~/.local/carbonyl-0.0.3/carbonyl'
alias netease='https_proxy=120.76.98.193:8080 nohup /Applications/NeteaseMusic.app/Contents/MacOS/NeteaseMusic >/dev/null 2>&1 &'

## the fuck
eval $(thefuck --alias)

# MACOS SecureInput
alias MACSecureInput="ioreg -l -d 1 -w 0 | grep SecureInput"

# imagemagick (image utility)
export DYLD_FALLBACK_LIBRARY_PATH="$(brew --prefix)/lib:$DYLD_FALLBACK_LIBRARY_PATH"


## ==== Initialization ====



# Q post block. Keep at the bottom of this file.
[[ -f "${HOME}/Library/Application Support/amazon-q/shell/zshrc.post.zsh" ]] && builtin source "${HOME}/Library/Application Support/amazon-q/shell/zshrc.post.zsh"

